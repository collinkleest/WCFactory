(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{655:function(t,n,e){"use strict";e.r(n);var i=e(269),r=e.n(i),o=e(261),a=e.n(o),c=e(262),u=e.n(c),s=e(264),l=e.n(s),p=e(263),d=e.n(p),f=e(265),y=e.n(f),v=e(285),m=e(567),h=e(283),b=e.n(h),g=e(643),w=e(642),k=e(635),x=e(589),O=e(320),j=e(573),_=e(296),E=e(644),q=e(588),S=new k.a({uri:"http://localhost:4000"}),z=new j.a({uri:"ws://localhost:4000/graphql",options:{reconnect:!0}}),F=Object(O.d)(function(t){var n=t.query,e=Object(_.getMainDefinition)(n),i=e.kind,r=e.operation;return"OperationDefinition"===i&&"subscription"===r},z,S),C=new w.a,N=new q.a,R=Object(E.a)({cache:C}),$=new g.a({link:O.a.from([Object(x.a)(function(t){var n=t.graphQLErrors,e=t.networkError;n&&n.map(function(t){var n=t.message,e=t.locations,i=t.path;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(e,", Path: ").concat(i))}),e&&console.log("[Network error]: ".concat(e))}),N,R,F]),cache:C,connectToDevTools:!0});e(632);function Q(){var t=r()(['<style>:host {\n        --wcfactory-ui-button-bg-color: #2C3E50;\n        --wcfactory-ui-button-color: #15B5E2;\n        display: block;\n      }\n      :host([disabled=""]) {\n        opacity: 0.2;\n      }\n      .btn-wrapper {\n        height: 110px;\n        width: calc(100% - 2.1em);\n        position: relative;\n        display: block;\n        padding: 0;\n        margin: 0;\n        margin-top: 20px;\n        margin-left: 1.05em;\n      }\n      :host(:not([disabled=""])) .btn-wrapper:focus .btn-inner,\n      :host(:not([disabled=""])) .btn-wrapper:hover .btn-inner {\n        top: -4px;\n        transform: scale(1, 1);\n        cursor: pointer;\n      }\n      .btn-wrapper__container {\n        border-bottom: 2px solid var(--wcfactory-ui-button-color);\n        position: absolute;\n        width: 100%;\n        height: 80px;\n      }\n      .btn-wrapper__container:before,\n      .btn-wrapper__container:after {\n        border-bottom: 2px solid var(--wcfactory-ui-button-color);\n        width: 96%;\n        left: 2%;\n        bottom: -8px;\n        content: "";\n        position: absolute;\n      }\n      .btn-wrapper__container:after {\n        width: 92%;\n        left: 4%;\n        bottom: -14px;\n      }\n      .btn-wrapper__container .btn-inner {\n        width: 104.2%;\n        height: 100%;\n        position: absolute;\n        top: 20px;\n        left: -2.1%;\n        border: 2px solid var(--wcfactory-ui-button-color);\n        box-sizing: border-box;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        letter-spacing: 1px;\n        text-transform: uppercase;\n        font-size: 18px;\n        background: var(--wcfactory-ui-button-bg-color);\n        transform: scale(0.96, 0.96);\n        transition: all .3s;\n        z-index: 4;\n      }\n      .btn-wrapper__container .btn-inner__text {\n        text-decoration: none;\n        color: var(--wcfactory-ui-button-color);\n      }</style><paper-button class="btn-wrapper" .disabled="','"><div class="btn-wrapper__container"><div class="btn-inner"><div class="btn-inner__text"><slot></slot></div></div></div></paper-button>']);return Q=function(){return t},t}var G=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).disabled=!1,t.cta=!1,t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{disabled:{type:Boolean,reflect:!0},cta:{type:Boolean,reflect:!0}}}}]),u()(n,[{key:"render",value:function(){return Object(v.c)(Q(),this.disabled)}}]),n}(v.a);customElements.define("wcfactory-ui-button",G);e(634);function I(){var t=r()([":host {\n        --wcfactory-ui-factory-state-spinner-scale: 0.5;\n        display: flex;\n      }\n      paper-spinner {\n        transform: scale(var(--wcfactory-ui-factory-state-spinner-scale));\n        --paper-spinner-stroke-width: 3px;\n      }"]);return I=function(){return t},t}function B(){var t=r()(["complete"]);return B=function(){return t},t}function H(){var t=r()(["<paper-spinner active></paper-spinner>",""]);return H=function(){return t},t}var L=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).output="",t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{output:{type:String}}}}]),u()(n,[{key:"render",value:function(){return this.output?Object(v.c)(H(),this.output):Object(v.c)(B())}}],[{key:"styles",get:function(){return Object(v.b)(I())}}]),n}(v.a);function U(){var t=r()(["",""]);return U=function(){return t},t}function V(){var t=r()(['<wcfactory-ui-factory-state .output="','"></wcfactory-ui-factory-state>']);return V=function(){return t},t}function T(){var t=r()(['<a id="list-item" href="','"><h2 id="item-title">üè≠','</h2><div id="item-desc">',"</div></a>"]);return T=function(){return t},t}function D(){var t=r()(['<style>:host {\n          display: block;\n\n        }\n        #list {\n          display: flex;\n          flex-direction: column;\n        }\n        #list-item {\n          display: flex;\n          padding: 10px;\n          color: inherit;\n          text-decoration: none;\n        }\n        #list-item:hover, #list-item:focus {\n          background: --list-item-hover-background;\n        }\n        #item-title {\n          flex: 1 1 auto;\n          margin: 0;\n          font-size: 18px;\n        }\n        #item-desc {\n          opacity: 0.7;\n        }</style><div id="list">','</div><a href="/factories/create"><wcfactory-ui-button>üè≠ Create factory</wcfactory-ui-button></a>']);return D=function(){return t},t}function M(){var t=r()(["\n  query {\n    factories {\n      ...FactoryInfo\n    }\n  }\n  ","\n"]);return M=function(){return t},t}function J(){var t=r()(["\n  fragment FactoryInfo on Factory {\n    __typename\n    id\n    name\n    location\n    output\n  }\n"]);return J=function(){return t},t}customElements.define("wcfactory-ui-factory-state",L);var P=b()(J()),A=b()(M(),P),W=function(t){function n(){var t;a()(this,n),(t=l()(this,d()(n).call(this))).factories=[];try{$.watchQuery({query:A}).subscribe(function(n){var e=n.data.factories;t.factories=e})}catch(t){}return t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{factories:{type:Array}}}}]),u()(n,[{key:"render",value:function(){return Object(v.c)(D(),this.factories.map(function(t){return Object(v.c)(T(),t.output?"":"/factories/".concat(t.name),t.name,t.output?Object(v.c)(V(),t.output):Object(v.c)(U(),t.location))}))}}]),n}(v.a);customElements.define("wcfactory-ui-factories",W);var Y=e(590),K=e(343),X=(e(646),e(295)),Z=e.n(X);function tt(){var t=r()(['\n      <style>\n        :host {\n          --wcfactory-ui-script-font-size: 12px;\n          font-size: var(--wcfactory-ui-script-font-size);\n        }\n        button {\n          font-family: inherit;\n          border: none;\n          margin: 0;\n          padding: 0;\n          background: none;\n          color: inherit;\n          cursor: pointer;\n          font-size: var(--wcfactory-ui-script-font-size);\n        }\n        .script {\n          cursor: pointer;\n          padding: calc(var(--wcfactory-ui-script-font-size) * .6);\n        }\n\n        .script[active="true"] {\n          background: black;\n        }\n\n        .script[disabled] {\n          cursor: inherit;\n          opacity: 0.5;\n        }\n      </style>\n\n      <button\n        class="script"\n        @click=',">\n          üöÄ","\n      </button>\n    "]);return tt=function(){return t},t}function nt(){var t=r()(["\n  mutation($script: String!, $location: String!) {\n    runScript(script: $script, location: $location) {\n      id\n      location\n      script\n      pid\n      element {\n        id\n        name\n      }\n    }\n  }\n"]);return nt=function(){return t},t}var et=b()(nt()),it=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"render",value:function(){return this.client=$,this.mutation=et,this.variables={script:this.script,location:this.location},this.onUpdate=function(t,n){var e=n.data.runScript,i=t.readQuery({query:pt}),r=[].concat(Z()(i.operations),[e]);t.writeQuery({query:pt,data:Object.assign({},i,{operations:r})})},Object(K.c)(tt(),this.mutate,this.script)}}],[{key:"properties",get:function(){return{script:{type:String},location:{type:String}}}}]),n}(K.a);function rt(){var t=r()(['\n      <style>\n        :host {\n          --wcfactory-ui-script-font-size: 12px;\n          font-size: var(--wcfactory-ui-script-font-size);\n        }\n        button {\n          font-family: inherit;\n          border: none;\n          margin: 0;\n          padding: 0;\n          background: none;\n          color: inherit;\n          cursor: pointer;\n          font-size: var(--wcfactory-ui-script-font-size);\n        }\n        .script {\n          cursor: pointer;\n          padding: calc(var(--wcfactory-ui-script-font-size) * .6);\n        }\n\n        .script[active="true"] {\n          background: black;\n        }\n      </style>\n\n      <button\n        class="script"\n        @click=',">\n          ‚ùå <slot></slot>\n      </button>\n    "]);return rt=function(){return t},t}function ot(){var t=r()(["\n  mutation($script: String!, $location: String!) {\n    stopScript(script: $script, location: $location)\n  }\n"]);return ot=function(){return t},t}customElements.define("wcfactory-ui-script-run",it);var at=b()(ot()),ct=function(t){function n(){return a()(this,n),l()(this,d()(n).call(this))}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{script:{type:String},location:{type:String}}}}]),u()(n,[{key:"render",value:function(){var t=this;return this.client=$,this.mutation=at,this.variables={script:this.script,location:this.location},this.onUpdate=function(n,e){if(e.data.stopScript){var i=n.readQuery({query:pt}),r=i.operations.filter(function(n){return!(n.script===t.script&&n.location===t.location)});n.writeQuery({query:pt,data:Object.assign({},i,{operations:r})})}},Object(K.c)(rt(),this.mutate)}}]),n}(K.a);function ut(){var t=r()(["\n        <wcfactory-ui-script-run .script="," .location=","></wcfactory-ui-script-run>\n      "]);return ut=function(){return t},t}function st(){var t=r()(["\n        <wcfactory-ui-script-stop .script="," .location=",">","</wcfactory-ui-script-stop>\n      "]);return st=function(){return t},t}function lt(){var t=r()(["\n  query operationsList {\n    operations {\n      id\n      location\n      script\n      pid\n      element {\n        id\n        name\n      }\n    }\n  }\n"]);return lt=function(){return t},t}customElements.define("wcfactory-ui-script-stop",ct);var pt=b()(lt()),dt=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).client=$,t.query=pt,t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{script:{type:String},location:{type:String}}}}]),u()(n,[{key:"render",value:function(){var t=this;return!!this.data.operations.find(function(n){return n.script===t.script&&n.location===t.location})?Object(K.c)(st(),this.script,this.location,this.script):Object(K.c)(ut(),this.script,this.location)}}]),n}(K.b);function ft(){var t=r()(['<wcfactory-ui-script .script="','" .location="','"></wcfactory-ui-script>']);return ft=function(){return t},t}function yt(){var t=r()(["",""]);return yt=function(){return t},t}customElements.define("wcfactory-ui-script",dt);var vt=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"render",value:function(){var t=this;return Object(v.c)(yt(),this.scripts.map(function(n){return Object(v.c)(ft(),n,t.location)}))}}],[{key:"properties",get:function(){return{scripts:{type:Array},location:{type:String}}}}]),n}(v.a);function mt(){var t=r()(['\n      <style>\n        :host {\n          display: block;\n        }\n        #location {\n          cursor: pointer;\n        }\n      </style>\n      <div id="location" @click=',">üìÅ</div>\n    "]);return mt=function(){return t},t}function ht(){var t=r()(["\n  mutation($location: String!) {\n    openLocation(location: $location)\n  }\n"]);return ht=function(){return t},t}customElements.define("wcfactory-ui-scripts",vt);var bt=b()(ht()),gt=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"render",value:function(){return this.client=$,this.mutation=bt,this.variables={location:this.location},Object(K.c)(mt(),this.mutate)}}],[{key:"properties",get:function(){return{location:{type:String}}}}]),n}(K.a);function wt(){var t=r()(['<style>:host {\n          display: flex;\n          background: var(--wcfactory-ui-secondary-color);\n          padding: 10px;\n          min-height: 100px;\n          flex-direction: column;\n        }\n        button {\n          font-family: inherit;\n          border: none;\n          margin: 0;\n          padding: 0;\n          background: none;\n          color: inherit;\n          cursor: pointer\n        }\n        button:hover, button:focus {\n          color: white;\n        }\n        #header {\n          display: flex;\n          align-items: center;\n        }\n        #header > * {\n          margin: 0 .5em;\n        }\n        #title {\n          flex: 1 1 auto;\n        }\n        #middle {\n          flex: 1 1 auto;\n          font-size: 14px;\n          opacity: 0.7;\n          font-family: inherit;\n          border: none;\n          margin: 0;\n          padding: 0;\n          background: none;\n          color: inherit;\n          margin: 10px 0;\n        }\n        #location {\n          font-size: 14px;\n          opacity: 0.7;\n          font-family: inherit;\n          border: none;\n          margin: 0;\n          padding: 0;\n          background: none;\n          color: inherit;\n          cursor: pointer;\n        }</style><div id="header"><div id="title">','</div><div id="location"><wcfactory-ui-location .location="','"></wcfactory-ui-location></div><div id="version">üì¶','</div></div><div id="middle"><wcfactory-ui-scripts .scripts="','" .location="','"></wcfactory-ui-scripts></div><div id="footer"></div>']);return wt=function(){return t},t}customElements.define("wcfactory-ui-location",gt);var kt=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).element={},t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{element:{type:Object}}}}]),u()(n,[{key:"render",value:function(){return Object(v.c)(wt(),this.element.name,this.element.location,this.element.version,this.element.scripts,this.element.location)}}]),n}(v.a);function xt(){var t=r()(['<style>input {\n        }</style><label><slot name="label"></slot></label> <input type="text" placeholder="','">']);return xt=function(){return t},t}customElements.define("wcfactory-ui-element",kt);var Ot=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).placeholder="",t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{placeholder:{type:String}}}}]),u()(n,[{key:"render",value:function(){return Object(v.c)(xt(),this.placeholder)}}]),n}(v.a);function jt(){var t=r()(["\n        query($name: String!) {\n          factory(name: $name) {\n            name\n            location\n            scripts\n            elements {\n              id\n              name\n              location\n              version\n              scripts\n            }\n          }\n        }\n      "]);return jt=function(){return t},t}function _t(){var t=r()(['<div id="element-container" active="','"><div id="element" @click="','" @keypress="','" data-name="','" aria-role="button" aria-haspopup="true" aria-pressed="','" tabindex="1">‚àà ','</div><div id="element-item-container" tabindex="','"><wcfactory-ui-element .element="','" tabindex="','"></wcfactory-ui-element></div></div>']);return _t=function(){return t},t}function Et(){var t=r()(['<style>:host {\n            --wcfactory-ui-factory-font-size: 16px;\n            display: block;\n            font-size: var(--wcfactory-ui-factory-font-size);\n          }\n          #wrapper {\n            background: rgba(0,0,0, 0.1);\n            padding: calc(var(--wcfactory-ui-factory-font-size) * 1.2);\n          }\n          .spacer {\n            flex: 1 1 auto;\n          }\n          *[aria-role="button"] {\n            cursor: pointer;\n          }\n          #factory-info {\n            display: flex;\n            flex-wrap: wrap;\n          }\n          #factory-info wcfactory-ui-scripts {\n            --wcfactory-ui-scripts-font-size: 14px;\n          }\n          #factory-info + #filter {\n            --wcfactory-ui-factory-filter-margin-top: 3em;\n            margin: var(--wcfactory-ui-factory-filter-margin-top) 0;\n            margin-bottom: calc(var(--wcfactory-ui-factory-filter-margin-top) * .5);\n          }\n          #element-container {\n            display: block;\n            font-family: inherit;\n            border: none;\n            padding: 0;\n            margin: 0;\n            color: inherit;\n          }\n          #element {\n            display: flex;\n            flex-direction: column;\n            padding: 10px;\n          }\n          #element:hover, #element:focus {\n            background-color: var(--list-item-hover-background);\n          }\n          #element-item-container {\n            max-height: 0;\n            display: block;\n            overflow: hidden;\n          }\n          #element-container[active="true"] {\n            margin: 20px;\n          }\n          #element-container[active="true"] #element-item-container {\n            max-height: 100vh;\n            transform: scale(1.1);\n            transition: all 0.4s ease-in-out;\n            margin-top: -50px;\n            box-shadow: 1px 1px 1px rgba(0,0,0, 0.2)\n          }\n          .center {\n            text-align: center;\n          }\n          .code {\n            background: black;\n            padding: .4em;\n            margin: -.4em 0;\n            font-size: 0.9em;\n          }</style><div id="wrapper"><div id="factory-info"><div class="name">üè≠ ','</div><div class="spacer"></div><wcfactory-ui-location location="','"></wcfactory-ui-location><br></div><div id="filter"><wcfactory-ui-search placeholder="element name" @input="','"></wcfactory-ui-search><span id="elementCount">(',')</span></div><div id="elements">','</div><a href="/factories/','/create-element"><wcfactory-ui-button disabled="disabled">Create Element (coming soon)</wcfactory-ui-button></a><p class="center">create element by running the following command in your terminal üòÑ</p><p class="center"><span class="code">wcf element ',"</span></p></div>"]);return Et=function(){return t},t}function qt(){var t=r()(["loading..."]);return qt=function(){return t},t}customElements.define("wcfactory-ui-search",Ot);var St=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).factory=null,t.loading=!0,t.activeElement=null,t.elementFilter="",t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{location:{type:Object},loading:{type:Boolean},factory:{type:Object},activeElement:{type:String},elementFilter:{type:String}}}}]),u()(n,[{key:"render",value:function(){var t=this,n=this.location.params.factory;if(this.fetchFactory(n),this.loading)return Object(v.c)(qt());if(this.factory){var e=new Y.default(this.factory.elements,{keys:["name"],minMatchCharLength:2}),i=""!==this.elementFilter?e.search(this.elementFilter):this.factory.elements;return Object(v.c)(Et(),this.factory.name,this.factory.location,function(n){return t.elementFilter=n.composedPath()[0].value},this.factory.elements.length,i.map(function(n){return Object(v.c)(_t(),n.name===t.activeElement,t._activateItemHander,t._activateItemHander,n.name,n.name===t.activeElement,n.name,n.name===t.activeElement?"1":null,n,n.name===t.activeElement?"1":null)}),this.factory.name,this._renderFactoryFlag(this.factory.location))}}},{key:"_renderFactoryFlag",value:function(t){return"--factory=".concat(t)}},{key:"fetchFactory",value:function(t){var n=this;try{$.watchQuery({query:b()(jt()),variables:{name:t}}).subscribe(function(t){var e=t.data.factory;n.loading=!1,n.factory=e})}catch(t){}}},{key:"_activateItemHander",value:function(t){var n=!1;"click"===t.type?n=!0:void 0!==t.keyCode&&(13!==t.keyCode&&32!==t.keyCode||(n=!0)),n&&(this.activeElement=t.target.dataset.name,t.target.nextSibling.focus())}}]),n}(v.a);function zt(){var t=r()(["that path does not exist üòî"]);return zt=function(){return t},t}customElements.define("wcfactory-ui-factory",St);var Ft=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"render",value:function(){return Object(v.c)(zt())}}]),n}(v.a);function Ct(){var t=r()(['<style>:host {\n          --wcfactory-ui-terminal-bg: black;\n          display: block;\n        }\n\n        #output {\n          background: var(--wcfactory-ui-terminal-bg);\n          height: 150px;\n          overflow-x: hidden;\n          overflow-y: scroll;\n          font-size: 10px;\n          padding: 5px;\n        }</style><div id="output"><slot></slot></div>']);return Ct=function(){return t},t}customElements.define("wcfactory-ui-404",Ft);var Nt=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"firstUpdated",value:function(){this._outputElement=this.shadowRoot.querySelector("#output"),this.shadowRoot.addEventListener("slotchange",this._slotChangeHandler.bind(this))}},{key:"disconnectedCallback",value:function(){this.shadowRoot.removeEventListener("slotchange",this._slotChangeHandler.bind(this))}},{key:"_slotChangeHandler",value:function(){this._outputElement.scrollTop=this._outputElement.scrollHeight}},{key:"render",value:function(){return Object(v.c)(Ct())}}]),n}(v.a);function Rt(){var t=r()(["loading..."]);return Rt=function(){return t},t}function $t(){var t=r()(["<div>","</div>"]);return $t=function(){return t},t}function Qt(){var t=r()(['\n        <style>\n          :host {\n            display: block;\n            position: relative;\n          }\n          #scripts {\n            display: flex;\n            flex-direction: row-reverse;\n            position: absolute;\n            top: 0;\n            right: 0;\n            transform: translateY(-110%);\n          }\n        </style>\n        <div id="scripts">\n          <wcfactory-ui-script-stop .script='," .location=","></wcfactory-ui-script-stop>\n        </div>\n        <wcfactory-ui-terminal>\n          ","\n        </wcfactory-ui-terminal>\n      "]);return Qt=function(){return t},t}function Gt(){var t=r()(["\n  query($pid: Int!) {\n    operationOutput(pid: $pid) {\n      id\n      output\n      operation {\n        pid\n      }\n    }\n  }\n"]);return Gt=function(){return t},t}customElements.define("wcfactory-ui-terminal",Nt);var It=b()(Gt()),Bt=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).script={},t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{script:{type:Object}}}}]),u()(n,[{key:"firstUpdated",value:function(){this.client=$,this.query=It,this.variables={pid:this.script.pid}}},{key:"shouldUpdate",value:function(t){return!0}},{key:"render",value:function(){var t=this.data,n=this.loading;this.error;return t?Object(K.c)(Qt(),this.script.script,this.script.location,t.operationOutput.map(function(t){return Object(K.c)($t(),t.output)})):n?Object(K.c)(Rt()):void 0}}]),n}(K.b);function Ht(){var t=r()([':host {\n        display: flex;\n        width: 100vw;\n        max-width: 300px;\n        position: relative;\n        align-items: flex-end;\n        flex: 1 1 auto;\n      }\n      #container {\n        width: 100%;\n        background: var(--wcfactory-ui-secondary-color);\n      }\n      :host([active]) {\n        max-width: 400px;\n      }\n      #header {\n        font-size: .8em;\n        padding: 1em;\n        cursor: pointer;\n      }\n      :host([active]) #header {\n        border-top: 1px solid var(--wcfactory-ui-accent-color);\n      }\n      #container #body {\n        display: none;\n      }\n      #container[active="true"] #body {\n        display: block;\n      }\n      wcfactory-ui-terminal {\n        --wcfactory-ui-terminal-bg: calc(var(--wcfactory-ui-secondary-color) * 0.9);\n      }']);return Ht=function(){return t},t}function Lt(){var t=r()(['<div id="container" active="','" tabindex="1"><div id="header" @click="','"><div id="header-left"><slot name="header"></slot></div><div id="header-right"><slot name="header-right"></slot></div></div><div id="body"><slot></slot></div></div>']);return Lt=function(){return t},t}customElements.define("wcfactory-ui-active-script",Bt);var Ut=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).active=!1,t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{active:{type:Boolean,reflect:!0}}}}]),u()(n,[{key:"render",value:function(){var t=this;return Object(v.c)(Lt(),this.active,function(){return t.active=!t.active})}}],[{key:"styles",get:function(){return Object(v.b)(Ht())}}]),n}(v.a);function Vt(){var t=r()([":host {\n        display: flex;\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        z-index: 100;\n      }\n      #tabs {\n        display: flex;\n      }\n      #container {\n        display: flex;\n      }"]);return Vt=function(){return t},t}function Tt(){var t=r()(['<div id="tabs"><div id="container"><slot></slot></div></div>']);return Tt=function(){return t},t}customElements.define("wcfactory-ui-desktop-tab",Ut);var Dt=function(t){function n(){return a()(this,n),l()(this,d()(n).call(this))}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{}}}]),u()(n,[{key:"render",value:function(){return Object(v.c)(Tt())}}],[{key:"styles",get:function(){return Object(v.b)(Vt())}}]),n}(v.a);function Mt(){var t=r()(['\n          <wcfactory-ui-desktop-tab active>\n            <span slot="header">'," (",")</span>\n            <wcfactory-ui-active-script .script=","></wcfactory-ui-active-script>\n          </wcfactory-ui-desktop-tab>\n        "]);return Mt=function(){return t},t}function Jt(){var t=r()(["\n      <style>\n        :host {\n          display: block;\n          position: fixed;\n          right: 0;\n          bottom: 0;\n          z-index: 100;\n        }\n        #tabs {\n          display: flex;\n        }\n        #container {\n          max-width: 300px;\n        }\n      </style>\n    \n    <wcfactory-ui-desktop-tabs>\n      ","\n    </wcfactory-ui-desktop-tabs>\n\n    "]);return Jt=function(){return t},t}customElements.define("wcfactory-ui-desktop-tabs",Dt);var Pt=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).client=$,t.query=pt,t}return y()(n,t),u()(n,[{key:"render",value:function(){var t=this.data;this.error,this.loading;return Object(K.c)(Jt(),t.operations.map(function(t){return Object(K.c)(Mt(),t.element.name,t.script,t)}))}}]),n}(K.b);customElements.define("wcfactory-ui-active-scripts",Pt);e(425),e(501);function At(){var t=r()(['<div id="loading">...Creating Factory</div>']);return At=function(){return t},t}function Wt(){var t=r()(['<style>:host {\n          display: block;\n          position: relative;\n        }\n        #footer {\n          margin-top: 5vw;\n        }\n        #repo-info {\n          display: flex;\n          justify-content: space-between;\n        }\n        #wrapper {\n          background-color: white;\n          padding: 1vw;\n          color: #333;\n        }\n        #info {\n          margin-top: 1vw;\n        }\n        #loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(255,255,255,0.7);\n          color: black;\n        }</style><div id="wrapper"><iron-form id="form"><form><paper-input always-float-label required label="name" auto-validate auto-validate pattern="[a-z-]*" @value-changed="','"></paper-input><paper-input always-float-label required label="human name" auto-validate auto-validate @value-changed="','"></paper-input><paper-input always-float-label required label="description" @value-changed="','"></paper-input><paper-input always-float-label required label="orgGit" auto-validate pattern="[a-z-]*" @value-changed="','"></paper-input><paper-input always-float-label required label="orgNpm" auto-validate pattern="[a-z-]*" @value-changed="','"></paper-input><form></form></form></iron-form><div id="info"><div id="name"><h2>üè≠ ','</h2></div><div id="repo-info"><div id="git-repo">Git Repo:<br>','</div><div id="npm-repo" ?data-filled="','">NPM Repo:<br>@','</div></div></div></div><div id="create"><wcfactory-ui-button @click="','" .disabled="','" cta>Create Factory</wcfactory-ui-button></div>',""],['<style>:host {\n          display: block;\n          position: relative;\n        }\n        #footer {\n          margin-top: 5vw;\n        }\n        #repo-info {\n          display: flex;\n          justify-content: space-between;\n        }\n        #wrapper {\n          background-color: white;\n          padding: 1vw;\n          color: #333;\n        }\n        #info {\n          margin-top: 1vw;\n        }\n        #loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(255,255,255,0.7);\n          color: black;\n        }</style><div id="wrapper"><iron-form id="form"><form><paper-input always-float-label required label="name" auto-validate auto-validate pattern="[a-z\\-]*" @value-changed="','"></paper-input><paper-input always-float-label required label="human name" auto-validate auto-validate @value-changed="','"></paper-input><paper-input always-float-label required label="description" @value-changed="','"></paper-input><paper-input always-float-label required label="orgGit" auto-validate pattern="[a-z\\-]*" @value-changed="','"></paper-input><paper-input always-float-label required label="orgNpm" auto-validate pattern="[a-z\\-]*" @value-changed="','"></paper-input><form></form></form></iron-form><div id="info"><div id="name"><h2>üè≠ ','</h2></div><div id="repo-info"><div id="git-repo">Git Repo:<br>','</div><div id="npm-repo" ?data-filled="','">NPM Repo:<br>@','</div></div></div></div><div id="create"><wcfactory-ui-button @click="','" .disabled="','" cta>Create Factory</wcfactory-ui-button></div>',""]);return Wt=function(){return t},t}var Yt=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).isValid=!1,t.name="",t.humanName="",t.description="",t.orgGit="",t.orgNpm="",t.gitRepo="",t.loading=!1,t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{form:{type:Object},name:{type:String},humanName:{type:String},description:{type:String},orgGit:{type:String},orgNpm:{type:String},gitRepo:{type:String},isValid:{type:Boolean},loading:{type:Boolean,reflect:!0}}}}]),u()(n,[{key:"updated",value:function(t){if(""!==this.name&&""!==this.humanName&&""!==this.description&&""!==this.orgGit&&""!==this.orgNpm)this._validateForm();this.gitRepo="git:github.com/".concat(this.orgGit?this.orgGit:"<org name>","/").concat(this.name?this.name:"<name>")}},{key:"render",value:function(){var t=this;return Object(v.c)(Wt(),function(n){return t.name=n.detail.value},function(n){return t.humanName=n.detail.value},function(n){return t.description=n.detail.value},function(n){return t.orgGit=n.detail.value},function(n){return t.orgNpm=n.detail.value},this.humanName,this.gitRepo,this.orgNpm,this.orgNpm?"".concat(this.orgNpm):"",function(){return t._submit()},!this.isValid,this.loading?Object(v.c)(At()):"")}},{key:"_submit",value:function(){this._validateForm()&&this.dispatchEvent(new CustomEvent("submit",{bubbles:!0,detail:{name:this.name,humanName:this.humanName,description:this.description,orgGit:this.orgGit,orgNpm:"@".concat(this.orgNpm),gitRepo:this.gitRepo}}))}},{key:"_validateForm",value:function(){var t=this.shadowRoot.querySelector("#form").validate();return this.isValid=t,t}}]),n}(v.a);function Kt(){var t=r()(['<wcfactory-ui-factory-create-form @submit="','" .loading="','"></wcfactory-ui-factory-create-form><a id="return-home" href="/" hidden></a>']);return Kt=function(){return t},t}function Xt(){var t=r()(["\n  mutation($createFactoryInput: CreateFactoryInput!) {\n    createFactory(createFactoryInput: $createFactoryInput) {\n      ...FactoryInfo\n    }\n  }\n  ","\n"]);return Xt=function(){return t},t}customElements.define("wcfactory-ui-factory-create-form",Yt);var Zt=b()(Xt(),P),tn=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"render",value:function(){return Object(v.c)(Kt(),this._submitHandler,this.loading)}},{key:"_submitHandler",value:function(t){var n=this;this.loading=!0,$.mutate({mutation:Zt,variables:{createFactoryInput:t.detail},update:function(t,e){var i=e.data.createFactory,r=(i.id,i.__typename,A),o=t.readQuery({query:r}),a=[].concat(Z()(o.factories),[i]);t.writeQuery({query:r,data:Object.assign({},o,{factories:a})}),setTimeout(function(){n.loading=!1,n.shadowRoot.querySelector("#return-home").click()},1e3)}})}}],[{key:"properties",get:function(){return{loading:{type:Boolean}}}}]),n}(v.a);customElements.define("wcfactory-ui-factory-create",tn);e(625),e(633),e(630);function nn(){var t=r()(["\n        query {\n          elementCreateOptions {\n            libraries {\n              name\n              description\n            }\n          }\n        }\n      "]);return nn=function(){return t},t}function en(){var t=r()(['<div id="loading">...Creating Element</div>']);return en=function(){return t},t}function rn(){var t=r()(["<paper-item>","</paper-item>"]);return rn=function(){return t},t}function on(){var t=r()(['<paper-dropdown-menu label="Library" required><paper-listbox slot="dropdown-content" @selected-changed="','">',"</paper-listbox></paper-dropdown-menu>"]);return on=function(){return t},t}function an(){var t=r()(['<style>:host {\n          display: block;\n          position: relative;\n        }\n        #footer {\n          margin-top: 5vw;\n        }\n        #repo-info {\n          display: flex;\n          justify-content: space-between;\n        }\n        #wrapper {\n          background-color: white;\n          padding: 1vw;\n          color: #333;\n        }\n        #info {\n          margin-top: 5vw;\n        }\n        #loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(255,255,255,0.7);\n          color: black;\n        }\n        #title {\n          width: 100%;\n          margin-bottom: 2vw;\n        }\n        paper-dropdown-menu {\n          width: 100%;\n        }</style><div id="wrapper"><div id="title">üè≠ ',' create element</div><iron-form id="form"><form><paper-input always-float-label required label="name" auto-validate pattern="[a-z-]*" @value-changed="','"></paper-input><paper-input always-float-label required label="description" @value-changed="','"></paper-input><paper-input always-float-label required label="factory" disabled="disabled" value="','"></paper-input>','<form></form></form></iron-form><div id="info"><div id="name"><h2>‚àà ','</h2></div><div id="repo-info"><div id="git-repo"><div>Description: ',"</div>Element Type: ",'</div></div></div></div><div id="create"><wcfactory-ui-button @click="','" .disabled="','" cta>Create Element</wcfactory-ui-button></div>',""],['<style>:host {\n          display: block;\n          position: relative;\n        }\n        #footer {\n          margin-top: 5vw;\n        }\n        #repo-info {\n          display: flex;\n          justify-content: space-between;\n        }\n        #wrapper {\n          background-color: white;\n          padding: 1vw;\n          color: #333;\n        }\n        #info {\n          margin-top: 5vw;\n        }\n        #loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba(255,255,255,0.7);\n          color: black;\n        }\n        #title {\n          width: 100%;\n          margin-bottom: 2vw;\n        }\n        paper-dropdown-menu {\n          width: 100%;\n        }</style><div id="wrapper"><div id="title">üè≠ ',' create element</div><iron-form id="form"><form><paper-input always-float-label required label="name" auto-validate pattern="[a-z\\-]*" @value-changed="','"></paper-input><paper-input always-float-label required label="description" @value-changed="','"></paper-input><paper-input always-float-label required label="factory" disabled="disabled" value="','"></paper-input>','<form></form></form></iron-form><div id="info"><div id="name"><h2>‚àà ','</h2></div><div id="repo-info"><div id="git-repo"><div>Description: ',"</div>Element Type: ",'</div></div></div></div><div id="create"><wcfactory-ui-button @click="','" .disabled="','" cta>Create Element</wcfactory-ui-button></div>',""]);return an=function(){return t},t}var cn=function(t){function n(){var t;return a()(this,n),(t=l()(this,d()(n).call(this))).title="",t.isValid=!1,t.loading=!1,t.form={name:""},t._getFormOptions(),t}return y()(n,t),u()(n,null,[{key:"properties",get:function(){return{form:{type:Object},formOptions:{type:Object},isValid:{type:Boolean},loading:{type:Boolean,reflect:!0},factory:{type:String}}}}]),u()(n,[{key:"updated",value:function(t){if(this.form.name&&this.form.description&&this.form.library)this._validateForm()}},{key:"render",value:function(){var t=this;return Object(v.c)(an(),this.factory,function(n){return t.form=Object.assign({},t.form,{name:n.detail.value})},function(n){return t.form=Object.assign({},t.form,{description:n.detail.value})},this.factory,this.formOptions?Object(v.c)(on(),function(n){return t.form=Object.assign({},t.form,{library:t.formOptions.libraries[n.detail.value].name})},this.formOptions.libraries.map(function(t){return Object(v.c)(rn(),t.description)})):"",this.form.name,this.form.description,this.form.library,function(){return t._submit()},!this.isValid,this.loading?Object(v.c)(en()):"")}},{key:"_submit",value:function(){this._validateForm()}},{key:"_validateForm",value:function(){var t=this.shadowRoot.querySelector("#form").validate();return this.isValid=t,t}},{key:"_getFormOptions",value:function(){var t=this;$.watchQuery({query:b()(nn())}).subscribe(function(n){var e=n.data.elementCreateOptions;t.formOptions=e})}}]),n}(v.a);function un(){var t=r()(['<wcfactory-ui-element-create-form .factory="','"></wcfactory-ui-element-create-form>']);return un=function(){return t},t}customElements.define("wcfactory-ui-element-create-form",cn);var sn=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"render",value:function(){return Object(v.c)(un(),this.location.params.factory)}}],[{key:"properties",get:function(){return{loading:{type:Boolean},location:{type:Object}}}}]),n}(v.a);function ln(){var t=r()(["\n  subscription {\n    operationsOutput\n  }\n"]);return ln=function(){return t},t}customElements.define("wcfactory-ui-element-create",sn);var pn=b()(ln());function dn(){var t=r()(["\n  subscription {\n    factoryUpdate\n  }\n"]);return dn=function(){return t},t}var fn=b()(dn());function yn(){var t=r()(['<style>:host {\n          --list-item-hover-background: rgba(255,255,255, 0.1);\n        }\n        h1 a {\n          color: inherit;\n          text-decoration: inherit;\n        }</style><style>:host {\n          display: block;\n          max-width: 900px;\n          margin: auto;\n        }\n        h1 {\n          text-align: center;\n          margin-bottom: 5vw\n        }</style><h1><a href="/">WCFactory</a></h1><div id="router-outlet"></div><wcfactory-ui-active-scripts></wcfactory-ui-active-scripts>']);return yn=function(){return t},t}var vn=function(t){function n(){return a()(this,n),l()(this,d()(n).apply(this,arguments))}return y()(n,t),u()(n,[{key:"firstUpdated",value:function(){this.routerSetup(),$.subscribe({query:pn}).subscribe(function(t){var n=t.data.operationsOutput,e=JSON.parse(n);try{var i=$.readQuery({query:It,variables:{pid:e.operation}}),r=Object.assign({},{operation:{pid:e.operation,__typename:"Operation"}}),o=[].concat(Z()(i.operationOutput),[Object.assign({},e,r)]);$.writeQuery({query:It,variables:{pid:e.operation},data:Object.assign({},i,{operationOutput:o})})}catch(t){$.writeQuery({query:It,variables:{pid:e.operation},data:Object.assign({},{data:{operationsOutput:[e]}})})}}),$.subscribe({query:fn}).subscribe(function(t){var n=t.data.factoryUpdate,e=JSON.parse(n);try{var i="".concat(e.__typename,":").concat(e.id),r=P;$.writeFragment({fragment:r,id:i,data:e})}catch(t){console.log(t)}})}},{key:"render",value:function(){return Object(v.c)(yn())}},{key:"routerSetup",value:function(){var t=this.shadowRoot.getElementById("router-outlet");new m.a(t).setRoutes([{path:"/",component:"wcfactory-ui-factories"},{path:"/factories",component:"wcfactory-ui-factory"},{path:"/factories/create",component:"wcfactory-ui-factory-create"},{path:"/factories/:factory",component:"wcfactory-ui-factory"},{path:"/factories/:factory/create-element",component:"wcfactory-ui-element-create"},{path:"(.*)",component:"wcfactory-ui-404"}])}}]),n}(v.a);customElements.define("wcfactory-ui",vn)}}]);